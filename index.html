<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tài Xỉu 2026 - Admin Control</title>
    <style>
        :root {
            --gold-light: #fceabb;
            --gold-dark: #f1c40f;
            --bg-dark: #1a0f00;
        }

        body {
            margin: 0; background-color: #000;
            display: flex; justify-content: center; align-items: center;
            height: 100vh; font-family: 'Arial', sans-serif; overflow: hidden;
        }

        /* KHUNG CHÍNH GIỐNG HÌNH MẪU */
        .game-container {
            width: 800px; height: 450px;
            background: linear-gradient(135deg, #4d2b00 0%, #1a0f00 100%);
            border: 4px solid #8b5a2b; border-radius: 60px;
            position: relative; box-shadow: 0 0 50px rgba(0,0,0,0.8);
            display: flex; flex-direction: column; align-items: center;
        }

        /* VIỀN VÀNG BAO QUANH */
        .gold-border {
            position: absolute; top: 10px; left: 10px; right: 10px; bottom: 10px;
            border: 2px solid rgba(251, 230, 153, 0.3); border-radius: 50px;
            pointer-events: none;
        }

        /* TIÊU ĐỀ TÀI XỈU */
        .header {
            margin-top: -30px; background: url('https://i.imgur.com/3Z4S0B8.png') no-repeat center;
            padding: 10px 40px; text-align: center;
        }
        .header h1 {
            color: #fff; font-size: 40px; text-shadow: 2px 2px #000, 0 0 10px gold;
            margin: 0; font-style: italic;
        }
        .match-id { color: #f1c40f; font-weight: bold; font-size: 14px; }

        /* KHU VỰC CƯỢC 2 BÊN */
        .betting-area {
            display: flex; width: 90%; justify-content: space-between; margin-top: 20px;
        }

        .side {
            width: 250px; text-align: center;
        }

        .side-title {
            font-size: 60px; font-weight: bold; margin: 0;
            background: linear-gradient(to bottom, #fff 40%, #ccc 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        .total-bet {
            background: rgba(0,0,0,0.5); border-radius: 20px;
            color: #ff4d4d; font-family: 'Courier New', monospace;
            font-size: 20px; padding: 5px; margin: 10px 0;
            border: 1px solid #4d2b00;
        }

        .side-xiu .total-bet { color: #4d94ff; }

        .btn-bet {
            background: linear-gradient(to bottom, #7a4a21, #4d2b00);
            border: 1px solid gold; color: #fff;
            padding: 10px 30px; border-radius: 15px;
            cursor: pointer; font-weight: bold; text-transform: uppercase;
        }

        /* VÒNG TRÒN TRUNG TÂM - ĐẾM NGƯỢC */
        .center-circle {
            width: 180px; height: 180px;
            background: radial-gradient(circle, #222, #000);
            border: 8px solid #5c3b1e; border-radius: 50%;
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            display: flex; justify-content: center; align-items: center;
            box-shadow: inset 0 0 20px #000;
        }

        #timer {
            font-size: 80px; color: #fff; font-weight: bold;
            text-shadow: 0 0 20px gold;
        }

        /* LỊCH SỬ DƯỚI CÙNG */
        .history {
            position: absolute; bottom: 20px;
            display: flex; gap: 8px;
        }
        .dot {
            width: 15px; height: 15px; border-radius: 50%;
            background: #333; border: 1px solid #555;
        }
        .dot.tai { background: radial-gradient(circle, #fff, #999); }
        .dot.xiu { background: radial-gradient(circle, #333, #000); }

        /* ADMIN STATUS */
        #admin-status {
            position: absolute; top: 15px; right: 40px; color: #0f0; font-size: 12px;
        }
    </style>
</head>
<body>

<div class="game-container">
    <div class="gold-border"></div>
    <div id="admin-status">BOT: CONNECTED</div>

    <div class="header">
        <h1>TÀI XỈU</h1>
        <div class="match-id">#2998383</div>
    </div>

    <div class="betting-area">
        <div class="side side-tai">
            <h2 class="side-title">TÀI</h2>
            <div class="total-bet" id="bet-tai">397,656,565</div>
            <button class="btn-bet">ĐẶT CƯỢC</button>
        </div>

        <div class="side side-xiu">
            <h2 class="side-title">XỈU</h2>
            <div class="total-bet" id="bet-xiu">520,668,693</div>
            <button class="btn-bet">ĐẶT CƯỢC</button>
        </div>
    </div>

    <div class="center-circle">
        <div id="timer">45</div>
    </div>

    <div class="history" id="history-dots">
        </div>
</div>

<script>
    // CẤU HÌNH BOT TELEGRAM CỦA BẠN
    const BOT_TOKEN = '8564750082:AAGkVvtYyRBbsD9xkAXkmiadLiE_kmk_zfs';
    let timeLeft = 45;
    let targetResult = null; // Lệnh từ Telegram

    // 1. Hàm lấy lệnh điều khiển
    async function checkTelegramCommand() {
        try {
            const res = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/getUpdates?offset=-1`);
            const data = await res.json();
            if (data.ok && data.result.length > 0) {
                const msg = data.result[0].message.text;
                // Nếu bạn gửi "Tai" hoặc "Xiu" qua Bot
                if(msg.toLowerCase().includes('tai')) targetResult = 'TAI';
                if(msg.toLowerCase().includes('xiu')) targetResult = 'XIU';
                console.log("Lệnh Admin:", targetResult);
            }
        } catch (e) {}
    }

    // 2. Logic đếm ngược và kết quả
    const timerEl = document.getElementById('timer');
    
    function startRound() {
        let timer = setInterval(async () => {
            timeLeft--;
            timerEl.innerText = timeLeft < 10 ? "0" + timeLeft : timeLeft;

            // Kiểm tra lệnh từ bot liên tục
            checkTelegramCommand();

            if (timeLeft <= 0) {
                clearInterval(timer);
                showResult();
            }
        }, 1000);
    }

    function showResult() {
        // Nếu có lệnh từ Telegram thì ra theo lệnh, không thì ngẫu nhiên
        let final;
        if (targetResult) {
            final = targetResult;
        } else {
            final = Math.random() > 0.5 ? 'TAI' : 'XIU';
        }

        alert("KẾT QUẢ: " + final);
        
        // Cập nhật lịch sử
        addHistory(final);
        
        // Reset ván mới
        setTimeout(() => {
            timeLeft = 45;
            targetResult = null;
            startRound();
        }, 3000);
    }

    // 3. Tạo dấu chấm lịch sử (Soi cầu)
    const historyContainer = document.getElementById('history-dots');
    function addHistory(type) {
        const dot = document.createElement('div');
        dot.className = `dot ${type.toLowerCase()}`;
        historyContainer.appendChild(dot);
        if(historyContainer.children.length > 15) historyContainer.removeChild(historyContainer.children[0]);
    }

    // Khởi tạo 10 dấu chấm mẫu cho giống hình
    for(let i=0; i<10; i++) addHistory(Math.random() > 0.5 ? 'TAI' : 'XIU');

    startRound();
</script>

</body>
</html>
